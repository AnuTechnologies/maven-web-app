
node

{
    def mavenHome= tool name: 'maven'
    
    stage('checkoutcode'){
        
        
        git branch: 'main', credentialsId: 'Github_Cred', url: 'https://github.com/AnuTechnologies/maven-web-app.git'
        
    }
    
    stage('Build the Package'){
        
        
         sh "${mavenHome}/bin/mvn clean package"
        
        
    }
    
    stage('Sonaqube Scanner'){
        
        
         sh "${mavenHome}/bin/mvn sonar:sonar"
        
        
    }
    
    stage('Upload artifact into nexus'){
        
        
         sh "${mavenHome}/bin/mvn clean deploy"
        
        
    }
    
    
}
